requirejs(["lodash-min","gsap/minified/gsap.min","bodyPositions","bodyParts","util/adjustPose","util/jsonUtils"],(function(e,t,o,n,i,c){const r=t.gsap;var s=document.querySelector("#info-box .left"),l=document.querySelector("#info-box .right"),d=document.querySelector("#create-json"),u=document.querySelector("#load-json");d.addEventListener("click",c.createJson),u.addEventListener("click",c.loadJson);var a={rotate:l.querySelector('input[name="info-rotate"]'),x:l.querySelector('input[name="info-x"]'),y:l.querySelector('input[name="info-y"]'),height:l.querySelector('input[name="info-height"]')},f={clock:0,up:!1,right:!1,down:!1,left:!1,move:!1,shift:!1,cmd:!1,posing:!1},m=Object.assign({},f);function y(e){return{16:"shift",91:"cmd",38:"up",87:"up",39:"right",68:"right",40:"down",83:"down",37:"left",65:"left",32:"move"}[e]||0}function g(){var e=f.up,t=f.right,o=f.down,n=f.left;f.clock=e&&t?1:t&&o?3:o&&n?5:n&&e?7:t?2:o?4:n?6:e?8:0}i(f,a);var h=Object.keys(n),v=Object.values(n);function k(){e.isEqual(m,f)||f.shift||f.cmd||f.posing||null!==document.querySelector(".is-posing")||(f.clock>=0&&f.clock<=8&&function(e){if(5!==f.clock){var t=e||f.clock;for(let e=0;e<h.length;e++){let n={duration:.2,force3D:!0,height:"",ease:"power3.out",rotate:0,xPercent:0,yPercent:0,x:0,y:0},i=h[e],c=v[e].el,s=o[t][i],l=!!s&&Object.keys(s),d=!!s&&Object.values(s);for(let e=0;e<l.length;e++){let t=l[e],o=r.getProperty(c,t),i=d[e];if("rotate"===t){let e=Math.abs(o-i),t=e>180?360-e:e;e>180&&(i=t<o?o+t:o-t)}n[t]=i}r.to(c,n)}}}(),f.up||f.right||f.down||f.left?s.classList.add("direction-key-down"):s.classList.remove("direction-key-down"),f.move?s.classList.add("move-key-down"):s.classList.remove("move-key-down"),m=Object.assign({},f),s.innerHTML=f.clock)}document.addEventListener("keydown",(function(e){var t=y(e.keyCode);f[t]=!0,g(),k()})),document.addEventListener("keyup",(function(e){var t=y(e.keyCode);"cmd"===t||"shift"===t?setTimeout((()=>{f[t]=!1}),0):f[t]=!1;g(),k()}))}));
//# sourceMappingURL=script-min.js.map